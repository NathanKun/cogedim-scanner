<div>
  <div id="left">
    <google-map
      height="100%"
      width="100%"
      [center]="center"
      [options]="options"
      [zoom]="zoom">
      <map-marker
          #markerElem
          *ngFor="let marker of markerConfigs"
          [position]="marker.position"
          [label]="marker.label"
          [title]="marker.title"
          [options]="marker.options"
          (mapClick)="markerClick(markerElem)">
      </map-marker>
    </google-map>
  </div>
  <div id="right" class="px-3">
    <mat-spinner *ngIf="!programDateLots" class="my-5 mx-auto"></mat-spinner>
    <ng-container *ngIf="programDateLots">
      <ng-container *ngFor="let p of programDateLots">
        <!--suppress JSUnusedGlobalSymbols -->
        <div #programcard class="my-3" *ngIf="!p.hided || !hideHidPrograms">
          <mat-card>
            <mat-card-header>
              <mat-card-title>
                {{p.program.programName}}
              </mat-card-title>
              <mat-card-subtitle>
                <!-- {{p.program.address}} {{p.program.postalCode}} -->
                <div id="delivery-info" [innerHTML]="p.deliveryInfoHtml"></div>
              </mat-card-subtitle>
            </mat-card-header>
            <a [routerLink]="['/programs', p.program.programNumber]">
              <img mat-card-image
                   [lazyLoad]="p.program.imgUrl"
                   src="https://dummyimage.com/327x188/eeeeee/eeeeee.jpg"
                   [alt]="p.program.programName">
            </a>
            <mat-card-content>
              <p>{{p.lastDayLotCount + ' lot' + (p.lastDayLotCount > 1 ? 's' : '')}}</p>
              <p *ngIf="p.lastDayMinPrice">Starts at {{p.lastDayMinPrice}}</p>
            </mat-card-content>
            <mat-card-actions>
              <a [href]="p.program.url" target="_blank" mat-icon-button>
                <i class="material-icons">web</i>
              </a>
              <a [href]="p.program.pdfUrl" target="_blank" mat-icon-button>
                <i class="material-icons">picture_as_pdf</i>
              </a>
              <button (click)="programCardLocationClick(p.program.programName)" mat-icon-button>
                <i class="material-icons">pin_drop</i>
              </button>
              <button *ngIf="!p.hided" (click)="hideProgramClick(p)" mat-icon-button>
                <i class="material-icons-outlined">remove_red_eye</i>
              </button>
              <button *ngIf="p.hided" (click)="unhideProgramClick(p)" mat-icon-button>
                <i class="material-icons">remove_red_eye</i>
              </button>
            </mat-card-actions>
          </mat-card>
        </div>
      </ng-container>
      <div class="mb-3">
        <button (click)="showAllHidedPrograms(hideHidPrograms)" class="full-width" mat-button color="primary">
          <ng-container *ngIf="hideHidPrograms; else hideUnhidPrograms">
            <i class="material-icons">remove_red_eye</i>
            Show hidden programs
          </ng-container>
          <ng-template #hideUnhidPrograms>
            <i class="material-icons-outlined">remove_red_eye</i>
            Hide unhidden programs
          </ng-template>
        </button>
      </div>
    </ng-container>
  </div>
</div>
